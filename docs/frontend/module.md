# module

## CommonJS
* node.js 模块化规范
* 有自己的作用域，在一个文件里面定义的变量、函数、类，都是私有的，对其他文件不可见
* CommonJS规范加载模块是同步的，只有加载完成，才能执行后面的操作
* 要在模块中导出变量、函数或对象，可以使用 module.exports，require方法用于加载模块
* 模块缓存，第一次加载某个模块时，Node会缓存该模块。以后再加载该模块，就直接从缓存取出该模块的module.exports属性
* 模块加载机制，CommonJS模块的加载机制是，输入的是被输出的`值的拷贝`。也就是说，一旦输出一个值，模块内部的变化就影响不到这个值
* 所有代码都运行在模块作用域，不会污染全局作用域
* 模块加载的顺序，按照其在代码中出现顺序加载
:::tip  
require “/”开头，则表示加载一个位于绝对路径的模块文件  
“./”开头，则表示加载的是一个位于相对路径的模块文件  
不以“./“或”/“开头，则表示加载的是一个默认提供的核心模块（位于Node的系统安装目录中），或者一个位于各级node_modules目录的已安装模块（全局安装或局部安装）
:::